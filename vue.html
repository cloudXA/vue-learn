<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./node_modules/vue/dist/vue.js"></script>
    <script src="./node_modules/vue-router/dist/vue-router.js"></script>
</head>
<body>
    <div id="app"> 
        <h1>Hello App!</h1>

        <router-view></router-view>
        <!-- 声明式 -->
        <router-link to="...">

    </div> 

    <script>

        const User = {
            template: `<div>
                            User {{ $route.params.id }}<br> 
                            // 一个被渲然的组件同样可以包含自己的嵌套
                            <router-view></router-view>
                       </div>`
        }
        const UserPosts = {
            template: `<div>user posts </div>`
        }
        const UserProfile = {
            template: `<div>user posts </div>`
        }
        const UserHome = {
            template: `<div>user home</div>`
        }
      

        const router = new VueRouter({
            routes: [
                {path: '/user/123', component: UserHome}
            ]
        })
        // 编程式
        // router.push(...)
        // 字符串 /home
        // router.push('home')

        // 对象/home
        // router.push({path: 'home'})

        // 命名的路由 /user/123
        // router.push({name: 'user', params: {usrId: '123'}})

        // 带查询参数，变成/register?plain=private 
        // router.push({ path: 'register', query: {plain: 'private'}})

        // const userId = '123'
        // router.push({name: 'user', params: {usrId}}) // /user/123 
        // router.push({path: `/user/${userId}`}) // /user/123
        // 这里的params不生效
        // router.push({path: '/user', params: { userId }}) // /users

        // 注意： 
        // 在router.push 或者 router.replace 中提供onComplete 和 onAbort 回调作为第二个和
        // 第三个参数这些回调将会在导航成功完成 (在所有的异步钩子被解析之后) 或终止 (导航到相同的路由、或在当前导航完成之前导航到另一个不同的路由) 的时候进行相应的调用

        router.push({ name: 'user', params: {userId: '123' }})

        // router.push(location, onComplete?, onAbort?)
        // router.replace(location, onComplete?, onAbort?)

        // 在浏览器记录中前进一步，等同于 history.forward()
        // router.go(1)

        // // 后退一步记录，等同于 history.back()
        // router.go(-1)

        // // 前进 3 步记录
        // router.go(3)

        // // 如果 history 记录不够用，那就默默地失败呗
        // router.go(-100)
        // router.go(100)

        const app = new Vue({
            router
        }).$mount('#app')
    </script>

</body>
</html>