<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="./node_modules/./vue/dist/vue.js"></script>
    <title>Document</title>

</head>
<body>
  <div id="app">
    <!-- vue2.0 代码复用和抽象的主要形式是组件，然而仍然需要对普通DOM元素进行底层操作，这时候就会用到自定义指令
      -->
      <div>
        <input type="text" v-focus>
        <input type="" v-focus>
      </div>
      
  </div>


<script>

  // 一个指令定义对象可以提供如下几个钩子函数
  // - bind: 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置
  // - inserted: 被绑定元素插入父节点时调用（仅保证父节点存在，但不一定已被插入文档中）
  // - update: 所在组件的vNode跟新时调用，但是可能发生其子vNode跟新之前。指令的值可能发生了改变，
  // 也可能没有。但是你可以通过比较封信前后的值来忽略不必要的模板更新
// - componentUpdated: 指令所在组件的vNode及其子vNode全部更新后调用
// - unbind: 只调用一次，指令与元素解绑时调用

    // 注册一个全局自定义指令v-focus 
    // Vue.directive('focus', {
    //   // 当被绑定的元素插入到DOM 中
    //   inserted(el) {
    //     el.focus()
    //   }
    // })

    var vm = new Vue({
      el: '#app',
      // 如果想注册局部指令，组件中也接受一个 directives 的选项：
      directives: {
        focus: {
          inserted(el) {
            el.focus();
          }
        }
      }

    })
</script>

</body>


