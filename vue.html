<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="./node_modules/./vue/dist/vue.js"></script>
    <title>Document</title>

</head>
<body>
    <div id="app">

    </div>


    <script>
      // 定义一个混入对象
      var myMixin = {
        data() {
          return {
            message: 'hello',
            foos: 'abc'
          }
        },
        created() {
          console.log('混入对象的钩子被调用')
        },
        methods: {
          hello() {
            console.log('hello from mixin');
          },
          foo() {
            console.log('foo')
          },
          conflicting() {
            console.log('from mixin')
          }
        }
      }

      // 同名钩子函数将合并为一个数组，因此都将会被调用，另外混入对象的钩子将在组件自身钩子之前调用


      // 值为对象的选项，例如methods components directives 将被合并为同一个对象，两个对象键名冲突时，取组件对象的键值对
      var vm = new Vue({
          el: '#app',
          mixins: [myMixin],

          data() {
            return {
              message: 'goodbye',
              bars: 'def'
            }
          },
          created() {
            console.log('组件钩子被调用')
          },
          
          methods:{
            bar() {
              console.log('bar')
            },
            conflicting() {
              console.log('from self')
            }
          }
          

      })

      // 结果： 
      // 混入对象的钩子被调用
      // 组件钩子被调用
      vm.foo()
      vm.bar()
      vm.conflicting()
 

    </script>



