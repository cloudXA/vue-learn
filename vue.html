<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

</head>
<body>
    <div id="app">
        <!-- 当用在组件上时，v-model则会这样
              -->
        <!-- <custom-input 
            v-bind:value="searchText"
            v-on:input="searchText = $event">
        </custom-input> -->

        <!-- v-model 经过了自定义的组件一番处理后，成功的实现了数据双向绑定 -->
        <custom-input v-model="searchText">

        </custom-input>


    </div>



    <script src="./node_modules/./vue/dist/vue.js"></script>
    <script>
        // 组件内的input必须
            // 1. 将其value attribute 绑定到一个名叫value的prop上
            // 2. 在其input 事件被触发时， 将新的值通过自定义的input事件抛出
        Vue.component('custom-input', {
            props: ['value'],
            template: `
                    <input 
                        v-bind:value="value"
                        v-on:input="$emit('input', $event.target.value)"
                    >
                `
        })
        var vm = new Vue({
            el: "#app",
            data: {
              searchText: ''
            },
               
        })
    </script>
</body>
</html>